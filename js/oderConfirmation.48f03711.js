(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["oderConfirmation"],{1148:function(t,e,c){"use strict";var r=c("a691"),n=c("1d80");t.exports=function(t){var e=String(n(this)),c="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(c+=e);return c}},"115c":function(t,e,c){"use strict";c("59bf")},"159b":function(t,e,c){var r=c("da84"),n=c("fdbc"),a=c("17c2"),o=c("9112");for(var i in n){var s=r[i],d=s&&s.prototype;if(d&&d.forEach!==a)try{o(d,"forEach",a)}catch(u){d.forEach=a}}},"16f9":function(t,e,c){"use strict";c("f6c3")},"17c2":function(t,e,c){"use strict";var r=c("b727").forEach,n=c("a640"),a=n("forEach");t.exports=a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"17c3":function(t,e,c){"use strict";c("cdc5")},"1b5b":function(t,e,c){"use strict";c("2a98")},"2a98":function(t,e,c){},"31c8":function(t,e,c){},"3c1d":function(t,e,c){"use strict";var r=c("7a23"),n=Object(r["I"])("data-v-a8bada48");Object(r["t"])("data-v-a8bada48");var a={class:"docker"},o={class:"docker__title"};Object(r["r"])();var i=n((function(t,e,c,i,s,d){var u=Object(r["x"])("router-link");return Object(r["q"])(),Object(r["d"])("div",a,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(i.dockerList,(function(t,e){return Object(r["q"])(),Object(r["d"])("span",{class:[{docker__item:!0,"docker__item--active":e===c.crurentIndex},"docker__item "],key:t.icon},[Object(r["h"])(u,{to:t.to},{default:n((function(){return[Object(r["h"])("div",{class:"iconfont",innerHTML:t.icon},null,8,["innerHTML"]),Object(r["h"])("div",o,Object(r["z"])(t.text),1)]})),_:2},1032,["to"])],2)})),128))])})),s={name:"Docker",props:["crurentIndex"],setup:function(){var t=[{icon:"&#xe6f3;",text:"首页",to:{name:"Home"}},{icon:"&#xe61e;",text:"购物车",to:{name:"CartList"}},{icon:"&#xe62f;",text:"订单",to:{name:"OrderList"}},{icon:"&#xe75f;",text:"我的",to:{name:"Home"}}];return{dockerList:t}}};c("1b5b");s.render=i,s.__scopeId="data-v-a8bada48";e["a"]=s},"408a":function(t,e,c){var r=c("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"529c":function(t,e,c){},"59bf":function(t,e,c){},"5ba4":function(t,e,c){"use strict";c("529c")},"65f0":function(t,e,c){var r=c("861d"),n=c("e8b5"),a=c("b622"),o=a("species");t.exports=function(t,e){var c;return n(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!n(c.prototype)?r(c)&&(c=c[o],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},"77a1":function(t,e,c){"use strict";c.r(e);var r=c("7a23"),n=Object(r["I"])("data-v-17677da6");Object(r["t"])("data-v-17677da6");var a={class:"wrapper"},o=Object(r["h"])("div",{class:"title"},"我的订单",-1),i={class:"orders"},s={class:"order__title"},d={class:"order__status"},u={class:"order__content"},l={class:"order__content__imgs"},b={class:"order__content__info"},v={class:"order__content__price"},f={class:"order__content__count"};Object(r["r"])();var _=n((function(t,e,c,n,_,O){var p=Object(r["x"])("Docker");return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("div",a,[o,Object(r["h"])("div",i,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(n.list,(function(t,e){return Object(r["q"])(),Object(r["d"])("div",{class:"order",key:e},[Object(r["h"])("div",s,[Object(r["g"])(Object(r["z"])(t.shopName)+" ",1),Object(r["h"])("span",d,Object(r["z"])(t.isCanceled?"已取消":"已下单"),1)]),Object(r["h"])("div",u,[Object(r["h"])("div",l,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(t.products,(function(t,e){return Object(r["q"])(),Object(r["d"])(r["a"],{key:e},[e<=3?(Object(r["q"])(),Object(r["d"])("img",{key:0,class:"order__content__img",src:t.products.img},null,8,["src"])):Object(r["e"])("",!0)],64)})),128))]),Object(r["h"])("div",b,[Object(r["h"])("div",v,"¥"+Object(r["z"])(t.totalPirce),1),Object(r["h"])("div",f,"共"+Object(r["z"])(t.totalNumber)+"件",1)])])])})),128))])]),Object(r["h"])(p,{crurentIndex:2})],64)})),O=c("1da1"),p=(c("96cf"),c("159b"),c("3c1d")),j=c("b775"),h=function(){var t=Object(r["u"])({list:[]}),e=function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var c,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])("/api/order");case 2:r=e.sent,0===(null===r||void 0===r?void 0:r.errno)&&null!==r&&void 0!==r&&null!==(c=r.data)&&void 0!==c&&c.length&&(n=r.data,console.log(n),n.forEach((function(t){var e=t.products||[],c=0,r=0;e.forEach((function(t){var e;r+=(null===t||void 0===t?void 0:t.orderSates)||0,c+=(null===t||void 0===t||null===(e=t.products)||void 0===e?void 0:e.price)*t.orderSates||0})),t.totalPirce=c,t.totalNumber=r})),console.log(n),t.list=r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var c=Object(r["A"])(t),n=c.list;return console.log(n,"--list--"),{list:n}},m={name:"OrderList",components:{Docker:p["a"]},setup:function(){var t=h(),e=t.list;return console.log(e),{list:e}}};c("16f9");m.render=_,m.__scopeId="data-v-17677da6";e["default"]=m},"7b9c":function(t,e,c){"use strict";c.r(e);var r=c("7a23"),n=Object(r["I"])("data-v-054a8284");Object(r["t"])("data-v-054a8284");var a={class:"wrapper"};Object(r["r"])();var o=n((function(t,e,c,n,o,i){var s=Object(r["x"])("TopArea"),d=Object(r["x"])("ProductList"),u=Object(r["x"])("Order");return Object(r["q"])(),Object(r["d"])("div",a,[Object(r["h"])(s),Object(r["h"])(d),Object(r["h"])(u)])})),i=Object(r["I"])("data-v-5c006146");Object(r["t"])("data-v-5c006146");var s={class:"top"},d=Object(r["h"])("div",{class:"top__bgcolor"},null,-1),u={class:"top__header"},l=Object(r["g"])(" 确认订单 "),b=Object(r["f"])('<div class="top__receiver" data-v-5c006146><div class="top__receiver__title" data-v-5c006146>收货地址</div><div class="top__receiver__address" data-v-5c006146>北京理工大学国防科技学院2号楼10层</div><div class="top__receiver__info" data-v-5c006146><span class="top__receiver__info__name" data-v-5c006146>瑶妹先生</span><span class="top__receiver__info__tell" data-v-5c006146>123456789</span></div><div class="iconfont top__receiver__icon" data-v-5c006146></div></div>',1);Object(r["r"])();var v=i((function(t,e,c,n,a,o){return Object(r["q"])(),Object(r["d"])("div",s,[d,Object(r["h"])("div",u,[Object(r["h"])("div",{class:"iconfont top__header__back",onClick:e[1]||(e[1]=function(){return n.handleBackClick&&n.handleBackClick.apply(n,arguments)})},""),l]),b])})),f=c("6c02"),_={name:"TopArea",setup:function(){var t=Object(f["d"])(),e=function(){t.back()};return{handleBackClick:e}}};c("115c");_.render=v,_.__scopeId="data-v-5c006146";var O=_,p=(c("b0c0"),c("b680"),Object(r["I"])("data-v-05da0011"));Object(r["t"])("data-v-05da0011");var j={class:"products"},h={class:"products__title"},m={class:"products__warpper"},k={class:"products__list"},x={key:0,class:"products__item"},g={class:"products__item__detail"},w={class:"products__item__title"},C={class:"products__item__price"},y=Object(r["h"])("span",{class:"products__item__yen"},"¥",-1),I={class:"products__item__totalprice"},L=Object(r["h"])("span",{class:"products__item__yen"},"¥",-1);Object(r["r"])();var q=p((function(t,e,c,n,a,o){return Object(r["q"])(),Object(r["d"])("div",j,[Object(r["h"])("div",h,Object(r["z"])(n.shopName),1),Object(r["h"])("div",m,[Object(r["h"])("div",k,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(n.productList,(function(t){return Object(r["q"])(),Object(r["d"])(r["a"],{key:t._id},[t.count>0?(Object(r["q"])(),Object(r["d"])("div",x,[Object(r["h"])("img",{class:"products__item__img",src:t.imgUrl},null,8,["src"]),Object(r["h"])("div",g,[Object(r["h"])("h4",w,Object(r["z"])(t.name),1),Object(r["h"])("p",C,[Object(r["h"])("span",null,[y,Object(r["g"])(" "+Object(r["z"])(t.price)+" x "+Object(r["z"])(t.count),1)]),Object(r["h"])("span",I,[L,Object(r["g"])(" "+Object(r["z"])((t.price*t.count).toFixed(2)),1)])])])])):Object(r["e"])("",!0)],64)})),128))])])])})),N=c("5502"),E={name:"ProductList",setup:function(){var t=Object(f["c"])(),e=Object(N["b"])(),c=t.params.id,n=e.state.cartList,a=Object(r["b"])((function(){var t,e=(null===(t=n[c])||void 0===t?void 0:t.productList)||[];return e})),o=Object(r["b"])((function(){var t,e=(null===(t=n[c])||void 0===t?void 0:t.shopName)||"";return e}));return{productList:a,shopName:o}}};c("5ba4");E.render=q,E.__scopeId="data-v-05da0011";var z=E,S=Object(r["I"])("data-v-6e23e6ae");Object(r["t"])("data-v-6e23e6ae");var A={class:"order"},F={class:"order__price"},R=Object(r["h"])("h3",{class:"mask__content__title"},"确认离开收银台?",-1),T=Object(r["h"])("p",{class:" mask__content__desc"},"请尽快完成支付，否则将被取消",-1),D={class:"mask__content__btns"};Object(r["r"])();var H=S((function(t,e,c,n,a,o){return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("div",A,[Object(r["h"])("div",F,"实付金额 ¥"+Object(r["z"])(n.calculations),1),Object(r["h"])("div",{class:"order__btn",onClick:e[1]||(e[1]=function(){return n.handleSubmitClick(!0)})},"提交订单")]),Object(r["G"])(Object(r["h"])("div",{class:"mask",onClick:e[5]||(e[5]=function(t){return n.handleSubmitClick(!1)})},[Object(r["h"])("div",{class:"mask__content",onClick:e[4]||(e[4]=Object(r["H"])((function(){}),["stop"]))},[R,T,Object(r["h"])("div",D,[Object(r["h"])("div",{class:"mask__content__btn mask__content__btn--first",onClick:e[2]||(e[2]=function(){return n.handleConfirmOrder(!0)})},"取消订单"),Object(r["h"])("div",{class:"mask__content__btn mask__content__btn--last",onClick:e[3]||(e[3]=function(){return n.handleConfirmOrder(!1)})},"确认支付")])])],512),[[r["D"],n.showConfirm]])],64)})),P=c("1da1"),B=(c("96cf"),c("b775")),M=function(t){var e=Object(N["b"])(),c=e.state.cartList,n=Object(r["b"])((function(){var e,r=(null===(e=c[t])||void 0===e?void 0:e.productList)||{},n={};for(var a in r){var o=r[a];o.count>0&&(n[a]=o)}return n})),a=Object(r["b"])((function(){var e,r=(null===(e=c[t])||void 0===e?void 0:e.shopName)||"";return r})),o=Object(r["b"])((function(){var e,r=null===(e=c[t])||void 0===e?void 0:e.productList,n={price:0};for(var a in r){var o=r[a];n.price+=o.count*o.price}return n.price=n.price.toFixed(2),n.price}));return{cartList:c,productList:n,shopName:a,calculations:o}},J=function(t,e,c){console.log(c);var r=Object(N["b"])(),n=Object(f["d"])(),a=function(){var a=Object(P["a"])(regeneratorRuntime.mark((function a(o){var i,s,d,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(s in i=[],c.value)d=c.value[s],i.push({id:parseInt(d._id),num:d.count});return console.log(i),a.prev=3,console.log("进来吧"),a.next=7,Object(B["b"])("/api/order",{addressId:1,shopId:t,shopName:e.value,isCanceled:o,products:i});case 7:u=a.sent,console.log(u),0===u.errno&&(r.commit("clearCartData",t),n.push({name:"OrderList"})),a.next=14;break;case 12:a.prev=12,a.t0=a["catch"](3);case 14:case"end":return a.stop()}}),a,null,[[3,12]])})));return function(t){return a.apply(this,arguments)}}();return{handleConfirmOrder:a}},G=function(){var t=Object(r["v"])(!1),e=function(e){t.value=e};return{showConfirm:t,handleSubmitClick:e}},U={name:"Order",setup:function(){var t=Object(f["c"])(),e=parseInt(t.params.id,10),c=M(e),r=c.shopName,n=c.calculations,a=c.productList;console.log(a);var o=J(e,r,a),i=o.handleConfirmOrder,s=G(),d=s.showConfirm,u=s.handleSubmitClick;return{handleConfirmOrder:i,calculations:n,showConfirm:d,handleSubmitClick:u}}};c("17c3");U.render=H,U.__scopeId="data-v-6e23e6ae";var W=U,K={name:"OderConfirmation",components:{TopArea:O,ProductList:z,Order:W}};c("9e8f");K.render=o,K.__scopeId="data-v-054a8284";e["default"]=K},"9e8f":function(t,e,c){"use strict";c("31c8")},a640:function(t,e,c){"use strict";var r=c("d039");t.exports=function(t,e){var c=[][t];return!!c&&r((function(){c.call(null,e||function(){throw 1},1)}))}},b680:function(t,e,c){"use strict";var r=c("23e7"),n=c("a691"),a=c("408a"),o=c("1148"),i=c("d039"),s=1..toFixed,d=Math.floor,u=function(t,e,c){return 0===e?c:e%2===1?u(t,e-1,c*t):u(t*t,e/2,c)},l=function(t){var e=0,c=t;while(c>=4096)e+=12,c/=4096;while(c>=2)e+=1,c/=2;return e},b=function(t,e,c){var r=-1,n=c;while(++r<6)n+=e*t[r],t[r]=n%1e7,n=d(n/1e7)},v=function(t,e){var c=6,r=0;while(--c>=0)r+=t[c],t[c]=d(r/e),r=r%e*1e7},f=function(t){var e=6,c="";while(--e>=0)if(""!==c||0===e||0!==t[e]){var r=String(t[e]);c=""===c?r:c+o.call("0",7-r.length)+r}return c},_=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){s.call({})}));r({target:"Number",proto:!0,forced:_},{toFixed:function(t){var e,c,r,i,s=a(this),d=n(t),_=[0,0,0,0,0,0],O="",p="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(O="-",s=-s),s>1e-21)if(e=l(s*u(2,69,1))-69,c=e<0?s*u(2,-e,1):s/u(2,e,1),c*=4503599627370496,e=52-e,e>0){b(_,0,c),r=d;while(r>=7)b(_,1e7,0),r-=7;b(_,u(10,r,1),0),r=e-1;while(r>=23)v(_,1<<23),r-=23;v(_,1<<r),b(_,1,1),v(_,2),p=f(_)}else b(_,0,c),b(_,1<<-e,0),p=f(_)+o.call("0",d);return d>0?(i=p.length,p=O+(i<=d?"0."+o.call("0",d-i)+p:p.slice(0,i-d)+"."+p.slice(i-d))):p=O+p,p}})},b727:function(t,e,c){var r=c("0366"),n=c("44ad"),a=c("7b0b"),o=c("50c4"),i=c("65f0"),s=[].push,d=function(t){var e=1==t,c=2==t,d=3==t,u=4==t,l=6==t,b=7==t,v=5==t||l;return function(f,_,O,p){for(var j,h,m=a(f),k=n(m),x=r(_,O,3),g=o(k.length),w=0,C=p||i,y=e?C(f,g):c||b?C(f,0):void 0;g>w;w++)if((v||w in k)&&(j=k[w],h=x(j,w,m),t))if(e)y[w]=h;else if(h)switch(t){case 3:return!0;case 5:return j;case 6:return w;case 2:s.call(y,j)}else switch(t){case 4:return!1;case 7:s.call(y,j)}return l?-1:d||u?u:y}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterOut:d(7)}},cdc5:function(t,e,c){},e8b5:function(t,e,c){var r=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f6c3:function(t,e,c){}}]);
//# sourceMappingURL=oderConfirmation.48f03711.js.map